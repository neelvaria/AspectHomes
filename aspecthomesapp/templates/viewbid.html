{% load static %}
{%include 'nav.html'%}

<section class="w3l-inner-page-main">
    <div class="inner-hyv-page">
        <div class="wrapper">
             <h2 class="hny-title text-center">View Bid<span class="sub-dot">.</sub></h2>
        </div>
    </div>
</section>
    <style>
        * {
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
        }

        table {
            background-color: white;
            width: 70%;
            /* border-collapse: collapse; */
            border: solid rgb(33, 43, 26) 2px;
            border-radius: 5px;
            margin-top: 50px;
            margin-left: 15%;
            margin-bottom: 40px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
        }

        img {
            max-width: 100%; /* Adjusted to 100% */
            height: 100px;   /* Maintain aspect ratio */
            cursor: pointer;
        }

        .btn {
            display: inline-block;
            padding: 10px 16px;
            text-align: center;
            text-decoration: none;
            background-color: #007bff;
            color: #fff;
            border-radius: 4px;
            cursor: pointer;
            white-space: nowrap;
        }

        .btn:hover{
            background-color: green;
            
        }

        .btn-success {
            background-color: #045757;
        }

        .btn-danger {
            background-color: #dc3545;
        }
        /* Media Queries for Responsive Design */
        @media screen and (max-width: 1200px) {
            table {
                width: 80%;
                margin-left: 10%;
            }
        }
    
        @media screen and (max-width: 992px) {
            table {
                width: 90%;
                margin-left: 5%;
            }
        }
    
        @media screen and (max-width: 768px) {
            table {
                width: 95%;
                margin-left: 2.5%;
            }
    
            img {
                max-width: 70%;
            }
        }
    
        @media screen and (max-width: 576px) {
            table {
                width: 100%;
                margin-left: 0;
            }
    
            img {
                max-width: 100%;
            }
        }
    </style>
</head>

<body>
    <section>
        <div class="container">
            <div class="table-responsive">
                <table class="table text-center">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Username</th>
                            <th>User Amount</th>
                            <th>User Description</th>
                            <th>Product Image</th>
                            <th>Designer Name</th>
                            <th>Bid Price</th>
                            <th>Designer Description</th>
                            <th colspan="1">Book</th>
                        </tr>
                    </thead>
                        {%for i in reqdata%}
                        <tr>
                            <td>{{i.id}}</td>
                            <td>{{i.requirementid.u_id}}</td>
                            <td>{{i.requirementid.budget}}</td>
                            <td >{{i.requirementid.description}}</td>
                            <td><img src="/media/{{i.requirementid.preferredstyle}}" alt="image" onclick="open360Viewer('/media/{{ i.requirementid.preferredstyle }}')"></td>
                            <td>{{i.u_id}}</td>
                            <td>{{i.bidamount}}</td>
                            <td style="text-align: justify;">{{i.desc}}</td>
                            
                            <td><a href="/booking/{{ i.id }}" class="btn btn-success">Book</a></td>
                        </tr>
                        {%endfor%}
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        function open360Viewer(imageSrc) {
            var aScene = document.createElement('a-scene');
            var aSky = document.createElement('a-sky');
            aSky.setAttribute('src', imageSrc);
            aScene.appendChild(aSky);
            document.body.appendChild(aScene);

            document.addEventListener('keydown', function (event) {
                if (event.key === 'Escape') {
                    // Redirect to the residential page (adjust the URL accordingly)
                    window.location.href = '/viewbidding';
                }
            });
        }
    </script>

    {% include 'footer.html' %}
</body>
</html>